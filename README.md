# Optimizing an ML Pipeline in Azure

## Overview
This project is part of the Udacity Azure ML Nanodegree.
In this project, we build and optimize an Azure ML pipeline using the Python SDK and a provided Scikit-learn model.
This model is then compared to an Azure AutoML Pipeline Run.

## Summary
This project is a Azure Machine Learning Pipeline using Bank Marketing Data for predict if a client 
subscribed a deposit in a term depending the client data using Binary Classification Algorithm, 
Running a Hyperdrive Pipeline for Hyperparameter Optimization or Azure Automatic Machine Learning to
get the possible Binary Classification Model for Term Deposit Prediction.

The Final Solution was the VotingEnsemble Model with 91.75 % of accuracy in 
binary classification generated by Azure AutoML Pipeline.

## Scikit-learn Pipeline
I am using Azure Machine Learning Hyperdrive for build Scikit-learn pipeline with bank marketing data, 
Tune C and max_iteration hyperparameters in Logistic Regression. The Hyperdrive pipeline help to tune
these parameters using Random Parameter Sampling and Bandit Policy.

I choose the Random Sampling because support early termination policy and can optimize HyperParameter Search over Grid Sampling that search exhaustively over the all possible combinations of hyperparameters in search space.

I choose Bandit Policy for implement early stopping policy based in the 
slack factor and evaluation interval and to support early stopping when
primary metric isn't within the specified slack factor of the most sucessful previous run.

The best HyperDrive Run Model is the Logistic Regression with regularization
strength of 1 and 75 max iteration with 91.63 % accuracy.

## AutoML
The model generated by the AutoML Pipeline was a Voting Ensemble with the following parameters: 
1. ensembled_algorithms : ['LightGBM', 'LogisticRegression', 'LogisticRegression', 'LightGBM', 'LightGBM', 'LightGBM', 'LogisticRegression']
2. ensemble_weights : [0.5, 0.07142857142857142, 0.07142857142857142, 0.07142857142857142, 0.07142857142857142, 0.07142857142857142, 0.14285714285714285]
3. ensembled_iterations : [0, 23, 22, 15, 17, 28, 16]


## Pipeline comparison
Both Pipelines has a similar performance but Voting Ensemble model with 91.75 % accuracy has a slightly better performance than HyperDrive Logistic Regression model with 91.63 % accuracy.

## Future work
Future Work is Apply AutoML excluding XGBoost and with more experiment time for get the best posible model from Azure AutoML


